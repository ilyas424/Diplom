{"datetime": "2023-02-20 02:00:02", "loglevel": "ERROR", "logger": "app", "message": "Traceback (most recent call last):\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py\", line 747, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column ticket_priorities.title does not exist\nLINE 1: SELECT ticket_priorities.title AS ticket_priorities_title \n               ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"./app.py\", line 22, in db_session_middleware\n    response = await call_next(request)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/middleware/base.py\", line 80, in call_next\n    raise app_exc\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/middleware/base.py\", line 69, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\n    raise e\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/routing.py\", line 706, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/fastapi/routing.py\", line 237, in app\n    raw_response = await run_endpoint_function(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"./routes.py\", line 31, in get_ticket_priority_all\n    result = utils.get_ticket_priorities_from_db(session)\n  File \"./utils.py\", line 37, in get_ticket_priorities_from_db\n    return session.query(TicketPriority).all()\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py\", line 2712, in all\n    return self._iter().all()  # type: ignore\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py\", line 2872, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py\", line 2229, in execute\n    return self._execute_internal(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py\", line 2124, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py\", line 252, in orm_execute_statement\n    result = conn.execute(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1414, in execute\n    return meth(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py\", line 489, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1842, in _execute_context\n    return self._exec_single_context(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 2325, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/ilsur/x/projects/Diplom/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py\", line 747, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column ticket_priorities.title does not exist\nLINE 1: SELECT ticket_priorities.title AS ticket_priorities_title \n               ^\n\n[SQL: SELECT ticket_priorities.title AS ticket_priorities_title \nFROM ticket_priorities]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"}
